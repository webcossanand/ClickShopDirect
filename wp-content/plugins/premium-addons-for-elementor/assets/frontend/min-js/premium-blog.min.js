(r=>{r(window).on("elementor/frontend/init",function(){if("undefined"!=typeof paElementsHandler&&paElementsHandler.isElementAlreadyExists("paBlog"))return!1;var e=elementorModules.frontend.handlers.Base.extend({settings:{},getDefaultSettings:function(){return{selectors:{user:".fa-user",activeCat:".category.active",loading:".premium-loading-feed",blogElement:".premium-blog-wrap",blogFilterTabs:".premium-blog-filter",marqueeWrapper:".premium-marquee-wrapper",contentWrapper:".premium-blog-content-wrapper",blogPost:".premium-blog-post-outer-container",metaSeparators:".premium-blog-meta-separator",filterLinks:".premium-blog-filters-container li a",currentPage:".premium-blog-pagination-container .page-numbers.current",activeElememnt:".premium-blog-filters-container li .active"}}},getDefaultElements:function(){var e=this.getSettings("selectors");return{$blogElement:this.$element.find(e.blogElement),$blogFilterTabs:this.$element.find(e.blogFilterTabs),$activeCat:this.$element.find(e.activeCat),$filterLinks:this.$element.find(e.filterLinks),$blogPost:this.$element.find(e.blogPost),$contentWrapper:this.$element.find(e.contentWrapper),$marqueeWrapper:this.$element.find(e.marqueeWrapper)}},bindEvents:function(){this.setLayoutSettings(),this.removeMetaSeparators(),this.run()},setLayoutSettings:function(){var e=this.getElementSettings(),t=this.elements.$blogPost,t={pageNumber:1,isLoaded:!0,count:2,equalHeight:e.force_height,layout:e.premium_blog_layout,carousel:"yes"===e.premium_blog_carousel,infinite:"yes"===e.premium_blog_infinite_scroll,scrollAfter:"yes"===e.scroll_to_offset,grid:"yes"===e.premium_blog_grid,total:t.data("total"),flag:e.filter_flag};t.carousel&&(t.slidesToScroll=e.slides_to_scroll,t.spacing=parseInt(e.premium_blog_carousel_spacing),t.autoPlay="yes"===e.premium_blog_carousel_play,t.arrows="yes"===e.premium_blog_carousel_arrows,t.fade="yes"===e.premium_blog_carousel_fade,t.center="yes"===e.premium_blog_carousel_center,t.dots="yes"===e.premium_blog_carousel_dots,t.overflowSlides="yes"===e.overflow_slides,t.speed=""!==e.carousel_speed?parseInt(e.carousel_speed):300,t.autoplaySpeed=""!==e.premium_blog_carousel_autoplay_speed?parseInt(e.premium_blog_carousel_autoplay_speed):5e3,t.arrows_position=e.arrows_position),this.settings=t},removeMetaSeparators:function(){var s=this.getSettings("selectors"),e=this.$element.find(s.blogPost),t=e.first().find(s.metaSeparators),i=e.find(s.user);1===t.length?i.length||e.find(s.metaSeparators).remove():i.length||e.each(function(e,t){r(t).find(s.metaSeparators).first().remove()})},run:function(){var e=this,t=this.elements.$blogElement,s=this.elements.$activeCat.data("filter"),i=this.elements.$blogFilterTabs.length,n=t.data("pagination"),r=this.settings.layout;this.settings.activeCategory=s,this.settings.filterTabs=i,this.settings.filterTabs&&(this.filterTabs(),s=new URL(window.location.href).searchParams.get(this.settings.flag))&&this.triggerFilerTabs(s),"masonry"!==r&&this.settings.equalHeight&&t.imagesLoaded(function(){e.forceEqualHeight()}),"masonry"!==r||this.settings.carousel?this.settings.carousel?(t.slick(this.getSlickSettings()),t.removeClass("premium-carousel-hidden")):"marquee"===r&&this.buildMarqueeLayout():t.imagesLoaded(function(){"*"===e.settings.activeCategory?t.isotope(e.getIsoTopeSettings()):t.isotope({itemSelector:".premium-blog-post-outer-container",animate:!1})}),n&&this.paginate(),this.settings.infinite&&t.is(":visible")&&this.getInfiniteScrollPosts()},buildMarqueeLayout:function(){var e=this.getElementSettings(),t=this.elements.$blogElement,s=this.elements.$marqueeWrapper,i=e.marquee_direction;t.css({overflow:"hidden"}),this.cloneItems();var n,r=this.setHorizontalWidth();n="normal"===i?gsap.to(s,{x:-r,duration:e.marquee_speed,ease:"none",repeat:-1,modifiers:{x:gsap.utils.unitize(e=>parseFloat(e)%r)}}):(gsap.set(s[0],{x:-r}),gsap.to(s,{x:0,duration:e.marquee_speed,ease:"none",repeat:-1,modifiers:{x:gsap.utils.unitize(e=>{e=parseFloat(e);return 0<e?e-r:e})}})),t.removeClass("premium-carousel-hidden"),"yes"!==this.getElementSettings("marquee_draggable")||elementorFrontend.isEditMode()||Draggable.create(s,{type:"x",inertia:!1,onPress:function(){n.pause()},onDragEnd:function(){n.invalidate().restart()},onDrag:function(){var e=gsap.getProperty(s[0],"x");0<e?gsap.set(s[0],{x:e-r}):e<-r&&gsap.set(s[0],{x:e+r})}}),this.$element.hover(function(){n.pause()},function(){n.play()})},cloneItems:function(){var e=this.elements.$marqueeWrapper,t=e.find(".premium-blog-post-outer-container"),s=new DocumentFragment;t.each(function(){var e=r(this).clone(!0,!0)[0];s.appendChild(e)}),e.append(s)},setHorizontalWidth:function(){var e=parseFloat(getComputedStyle(this.elements.$marqueeWrapper[0]).getPropertyValue("--pa-marquee-spacing"))||0,t=this.$element.find(".premium-blog-post-outer-container");return(t[0].offsetWidth+e)*(t.length/2)},paginate:function(){var t=this,s=this.$element,i=this.getSettings("selectors");s.on("click",".premium-blog-pagination-container .page-numbers",function(e){e.preventDefault(),r(this).hasClass("current")||(e=parseInt(s.find(i.currentPage).html()),r(this).hasClass("next")?t.settings.pageNumber=e+1:r(this).hasClass("prev")?t.settings.pageNumber=e-1:t.settings.pageNumber=r(this).html(),t.getPostsByAjax(t.settings.scrollAfter))})},forceEqualHeight:function(){var s=new Array,e=this.getSettings("selectors").contentWrapper,e=this.$element.find(e),t=(e.each(function(e,t){t=r(t).outerHeight();s.push(t)}),Math.max.apply(null,s));e.css("height",t+"px")},getSlickSettings:function(){var e=this.settings,t=e.grid?this.getSlickCols():null,s=e.grid?t.cols:1,i=e.grid?t.colsTablet:1,t=e.grid?t.colsMobile:1,s={infinite:!e.overflowSlides,slidesToShow:s,slidesToScroll:e.slidesToScroll||s,responsive:[{breakpoint:1025,settings:{slidesToShow:i,slidesToScroll:1}},{breakpoint:768,settings:{slidesToShow:t,slidesToScroll:1}}],autoplay:e.autoPlay,rows:0,speed:e.speed,autoplaySpeed:e.autoplaySpeed,arrows:e.arrows,nextArrow:e.arrows?'<a type="button" data-role="none" class="carousel-arrow carousel-next" aria-label="Next" role="button" style=""><i class="fas fa-angle-right" aria-hidden="true"></i></a>':"",prevArrow:e.arrows?'<a type="button" data-role="none" class="carousel-arrow carousel-prev" aria-label="Previous" role="button" style=""><i class="fas fa-angle-left" aria-hidden="true"></i></a>':"",fade:e.fade&&!e.overflowSlides,centerMode:e.center&&!e.overflowSlides,centerPadding:e.spacing+"px",draggable:!0,dots:e.dots,customPaging:function(){return'<i class="fas fa-circle"></i>'}};return"default"!==e.arrows_position&&(s.appendArrows=this.$element.find(".premium-carousel-arrows-wrapper")),s},getSlickCols:function(){var e=this.getElementSettings(),t=e.premium_blog_columns_number,s=e.premium_blog_columns_number_tablet,e=e.premium_blog_columns_number_mobile;return{cols:parseInt(100/t.substr(0,t.indexOf("%"))),colsTablet:parseInt(100/s.substr(0,s.indexOf("%"))),colsMobile:parseInt(100/e.substr(0,e.indexOf("%")))}},getIsoTopeSettings:function(){return{itemSelector:".premium-blog-post-outer-container",percentPosition:!0,filter:this.settings.activeCategory,animationOptions:{duration:750,easing:"linear",queue:!1}}},filterTabs:function(){var t=this,s=this.getSettings("selectors");this.elements.$filterLinks.click(function(e){e.preventDefault(),t.$element.find(s.activeElememnt).removeClass("active"),r(this).addClass("active"),t.settings.activeCategory=r(this).attr("data-filter"),t.settings.pageNumber=1,t.settings.infinite?(t.getPostsByAjax(!1),t.settings.count=2,t.getInfiniteScrollPosts()):t.getPostsByAjax(t.settings.scrollAfter)})},triggerFilerTabs:function(e){this.elements.$filterLinks.eq(e).trigger("click")},getPostsByAjax:function(t){void 0===this.settings.activeCategory&&(this.settings.activeCategory="*");var s=this,i=this.elements.$blogElement,n=this.getSettings("selectors");r.ajax({url:PremiumSettings.ajaxurl,dataType:"json",type:"POST",data:{action:"pa_get_posts",page_id:i.data("page"),widget_id:s.$element.data("id"),page_number:s.settings.pageNumber,category:s.settings.activeCategory,nonce:PremiumSettings.nonce},beforeSend:function(){i.append('<div class="premium-loading-feed"><div class="premium-loader"></div></div>');var e=0;0<r(".elementor-sticky").length&&(e=100),t&&r("html, body").animate({scrollTop:i.offset().top-50-e},"slow")},success:function(e){var t;e.data&&(i.find(n.loading).remove(),t=e.data.posts,e=e.data.paging,s.settings.infinite?(s.settings.isLoaded=!0,s.settings.filterTabs&&1===s.settings.pageNumber?i.html(t):i.append(t)):(i.html(t),s.$element.find(".premium-blog-footer").html(e)),s.removeMetaSeparators(),s.settings.layout)&&("even"===s.settings.layout?s.settings.equalHeight&&s.forceEqualHeight():i.imagesLoaded(function(){i.isotope("reloadItems"),i.isotope({itemSelector:".premium-blog-post-outer-container",animate:!1})}))},error:function(e){console.log(e)}})},getInfiniteScrollPosts:function(){var e=jQuery(window).outerHeight()/1.25,t=this;r(window).scroll(function(){t.settings.filterTabs&&($blogPost=t.elements.$blogElement.find(".premium-blog-post-outer-container"),t.settings.total=$blogPost.data("total")),t.settings.count<=t.settings.total&&r(window).scrollTop()+e>=t.$element.find(".premium-blog-post-outer-container:last").offset().top&&1==t.settings.isLoaded&&(t.settings.pageNumber=t.settings.count,t.getPostsByAjax(!1),t.settings.count++,t.settings.isLoaded=!1)})}});elementorFrontend.elementsHandler.attachHandler("premium-addon-blog",e)})})(jQuery);