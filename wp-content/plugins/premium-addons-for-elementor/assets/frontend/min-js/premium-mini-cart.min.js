(o=>{function a(i,c){var a,e,t,n,p,r,s,_,o,l,m=i.find(".pa-woo-mc__outer-container").data("settings");function d(){i.find(".pa-woo-mc__cross-sells").slick({infinite:!0,draggable:!0,pauseOnHover:!0,arrows:!1,slidesToShow:m.slidesToShow||3,slidesToScroll:m.slidesToScroll||1,speed:m.speed||1e3,autoplay:m.autoplay,autoplaySpeed:m.autoplaySpeed||5e3,rtl:elementorFrontend.config.is_rtl}),i.find(".pa-woo-mc__cross-sells-arrows a").on("click.paCrossSellsNav",function(){c(this).hasClass("prev-arrow")?i.find(".pa-woo-mc__cross-sells").slick("slickPrev"):c(this).hasClass("next-arrow")&&i.find(".pa-woo-mc__cross-sells").slick("slickNext")}),1<i.find(".pa-woo-mc__cross-sells .pa-woo-mc__cross-sell-product").length?i.find(".pa-woo-mc__cross-sells-arrows").css({visibility:"inherit",opacity:"1"}):i.find(".pa-woo-mc__cross-sells-arrows").css({visibility:"hidden",opacity:"0"})}function w(o){"hover"===a?(o.stopPropagation(),clearTimeout(r),i.find(".pa-woo-mc__content-wrapper-"+t).removeClass("premium-addons__v-hidden").addClass("pa-woo-mc__open")):("slide"===e&&c(".pa-woo-mc__overlay-"+t).removeClass("premium-addons__v-hidden"),i.find(".pa-woo-mc__content-wrapper-"+t).removeClass("premium-addons__v-hidden").toggleClass("pa-woo-mc__open")),0<i.find(".slick-slider").length&&i.find(".pa-woo-mc__cross-sells").slick("setPosition")}function u(){var o,a,e,t,n,c,p=i.find("div[data-pa-count-txt]").data("pa-count-txt");p&&(o=i.find(".pa-woo-mc__cart-count").text(),i.hasClass("pa-woo-mc__layout-3")?(o=(a=i.find(".pa-woo-mc__cart-count").text().match(/\d+/))?a[0]:0,i.find(".pa-woo-mc__cart-header .pa-woo-mc__cart-count").text(o+" "+p)):p.includes("{{count}}")&&(a=p.replace("{{count}}",'<span class="pa-woo-mc__cart-count">'+o+"</span>"),i.find(".pa-woo-mc__cart-footer .pa-woo-mc__subtotal-heading").html(a))),m.removeTxt&&i.find(".pa-woo-mc__remove-item span").text(m.removeTxt),m.crossSellTxt&&i.find(".pa-woo-mc__cross-sells-heading").text(m.crossSellTxt),m.taxLabel&&(p=m.taxLabel,o=i.find(".pa-woo-mc__inner-container .pa-woo-mc__subtotal"),a=i.find(".pa-woo-mc__cart-footer .pa-woo-mc__subtotal"),i.hasClass("pa-trigger-label-yes")&&0===o.find(".pa-woo-mc__tax-label").length&&o.append(' <small class="pa-woo-mc__tax-label">'+p+"</small>"),i.hasClass("pa-footer-label-yes"))&&0===a.find(".pa-woo-mc__tax-label").length&&a.append(' <small class="pa-woo-mc__tax-label">'+p+"</small>"),i.find(".pa-woo-mc__progressbar-wrapper").length&&(p=parseFloat(i.find(".pa-woo-mc__progressbar-wrapper .pa-woo-mc__subtotal-placeholder").text()),e=i.find(".pa-woo-mc__progressbar-wrapper").data("pa-progress-txt"),t=parseFloat(i.find(".pa-woo-mc__progressbar-wrapper").data("pa-progress-threshold")),n=parseFloat((p/t*100).toFixed(2)),c=i.find(".pa-woo-mc__progressbar-wrapper").data("pa-progress-complete"),100<n?n=100:n<0&&(n=0),i.find(".pa-woo-mc__progressbar-fill").css("width",n+"%"),i.find(".pa-woo-mc__progressbar").attr("aria-valuenow",n),t<=p&&c?i.find(".pa-woo-mc__progress-heading").html(c):i.find(".pa-woo-mc__progress-heading").html(e))}function f(){i.find(".pa-woo-mc__qty-btn").off("click.paQtyBtn").on("click.paQtyBtn",function(o){o.stopPropagation();var o=c(this).parent().find(".pa-woo-mc__input")[0],a=i.hasClass("pa-allow-bkorders-yes"),e=parseInt(c(o).attr("max")),t=parseInt(c(o).val());c(this).hasClass("plus")?a||t<e||isNaN(e)?(a&&c(o).removeAttr("max"),o.stepUp(),c(o).trigger("change")):c(this).parents(".pa-woo-mc__item-wrapper").find(".pa-woo-mc__item-notice").text(PAWooMCartSettings.stock_msg+e):(o.stepDown(),c(o).trigger("change"))}),i.find(".pa-woo-mc__input").off("change.paQtyInput").on("change.paQtyInput",function(){var o=c(this).attr("name").replace("cart-",""),a=c(this).val();"1"===a?c(this).siblings(".pa-woo-mc__qty-btn.minus").addClass("disabled"):c(this).siblings(".pa-woo-mc__qty-btn.minus").removeClass("disabled"),g("pa_update_mc_qty",o,a)}),i.find(".pa-woo-mc__remove-item").off("click.paRemoveCartItem").on("click.paRemoveCartItem",function(o){o.stopPropagation(),g("pa_delete_cart_item",c(this).data("pa-item-key").replace("cart-",""),!1)}),i.find(".pa-woo-mc__input").off("click.paQtyInputClick").on("click.paQtyInputClick",function(o){o.stopPropagation()})}function g(e,o,a){var t={action:e,nonce:PAWooMCartSettings.mini_cart_nonce};switch(e){case"pa_update_mc_qty":if(!a)return;t.itemKey=o,t.quantity=a;break;case"pa_delete_cart_item":t.itemKey=o;break;case"pa_apply_coupon":case"pa_remove_coupon":t.couponCode=a}var n=i.find(".pa-woo-mc__remove-coupon");c.ajax({url:PAWooMCartSettings.ajaxurl,dataType:"JSON",type:"POST",data:t,beforeSend:function(){i.find(".pa-woo-mc__widget-shopping-outer-wrapper").append('<div class="premium-loading-feed"><div class="premium-loader"></div></div>')},success:function(o){c(document.body).trigger("wc_fragment_refresh"),"pa_apply_coupon"===e&&(i.find(".pa-woo-mc__coupon-notice").removeClass("pa-error-notice").text(o.data),n.css("display","inline-block")),"pa_remove_coupon"===e&&(n.hide(),i.find(".pa-woo-mc__coupon-field").val(""),i.find(".pa-woo-mc__coupon-notice").removeClass("pa-error-notice").text(""))},error:function(o){console.log(o);var a=o.status;"pa_apply_coupon"===e&&(i.find(".pa-woo-mc__coupon-notice").addClass("pa-error-notice").text(o.responseJSON.data),409===a?n.css("display","inline-block"):n.hide())},complete:function(o){i.find(".premium-loading-feed").remove()}})}m&&(a=m.trigger,e=m.type,t=i.data("id"),o=m.openAutomatically,n=m.cartDelay,p=!1,i.find(".pa-woo-mc__inner-container").off("click.paToggleMiniCart mouseenter.paToggleMiniCart mouseleave.paToggleMiniCart"),"click"===a?i.find(".pa-woo-mc__inner-container").on("click.paToggleMiniCart",w):(i.find(".pa-woo-mc__inner-container").on("mouseenter.paToggleMiniCart",w),i.on("mouseleave.paToggleMiniCart",function(o){r=setTimeout(function(){i.find(".pa-woo-mc__content-wrapper-"+t).removeClass("pa-woo-mc__open")},300)})),i.find(".pa-woo-mc__remove-all-btn").on("click.paConfirm",function(){c(this).hide(),i.find(".pa-woo-mc__empty-mc-confirm").css("display","flex")}),i.find(".pa-woo-mc__confirm-btn").on("click.paEmptyMC",function(){c(this).hasClass("pa-empty-mc")&&g("pa_delete_cart_items",!1,!1),i.find(".pa-woo-mc__remove-all-btn").show(),i.find(".pa-woo-mc__empty-mc-confirm").hide()}),i.find(".pa-woo-mc__coupon-submit").on("click",function(){var o=i.find(".pa-woo-mc__coupon-field").val();o&&g("pa_apply_coupon",!1,o)}),i.find(".pa-woo-mc__remove-coupon").on("click.paRemoveCoupon",function(o){o.preventDefault();o=i.find(".pa-woo-mc__coupon-field").val();o&&g("pa_remove_coupon",!1,o)}),c("body").off("click.paCloseMC"),m.clickOutside&&c("body").on("click.paCloseMC",function(o){c(o.target).is(".premium-tabs-nav-list-item, .pa-woo-mc__content-wrapper, .pa-woo-mc__content-wrapper *, .pa-woo-mc__inner-container, .pa-woo-mc__inner-container *")||("menu"!==e&&c(".pa-woo-mc__overlay").addClass("premium-addons__v-hidden"),c(".pa-woo-mc__content-wrapper").removeClass("pa-woo-mc__open"))}),i.find(".pa-woo-mc__close-button").on("click",function(){c(".pa-woo-mc__overlay-"+t).addClass("premium-addons__v-hidden"),i.find(".pa-woo-mc__content-wrapper-"+t).removeClass("pa-woo-mc__open")}),m.coupon&&i.find(".pa-woo-mc__coupon-toggler").click(function(){i.find(".pa-woo-mc__coupon-wrapper").is(":visible")?i.find(".pa-woo-mc__coupon-wrapper").slideUp():i.find(".pa-woo-mc__coupon-wrapper").slideDown()}),f(),u(),i.hasClass("premium-mc-counting-yes")&&(i.find(".pa-woo-mc__badge.pa-counting .odometer-wrapper").length&&(s=new Odometer({el:i.find(".pa-woo-mc__badge.pa-counting .odometer-wrapper")[0],value:i.find(".pa-woo-mc__count-placeholder").text(),format:"(,ddd).dd"})),i.find(".pa-woo-mc__subtotal.pa-counting .pa-woo-mc__subtotal-val").length)&&(_=new Odometer({el:i.find(".pa-woo-mc__subtotal.pa-counting .pa-woo-mc__subtotal-val")[0],value:i.find(".pa-woo-mc__text-wrapper .pa-woo-mc__subtotal-placeholder").text(),format:"(,ddd).dd"})),m.crossSells&&setTimeout(function(){d()},0),o&&PAWooMCartSettings.productAddedToCart&&setTimeout(function(){i.find(".pa-woo-mc__content-wrapper-"+t).hasClass("pa-woo-mc__open")||w()},n||0),o&&!p&&elementorFrontend.elements.$body.on("added_to_cart",function(o,a){setTimeout(function(){i.find(".pa-woo-mc__content-wrapper-"+t).hasClass("pa-woo-mc__open")||w(o),p=!0},n||0)}),c(document.body).on("wc_fragments_loaded wc_fragments_refreshed",function(o){c(".pa-woo-mc__content-wrapper-"+t+" .pa-woo-mc__empty-msg").length?c(".pa-woo-mc__content-wrapper-"+t).addClass("pa-hide-content"):c(".pa-woo-mc__content-wrapper-"+t).removeClass("pa-hide-content"),f(),u(),m.crossSells&&setTimeout(function(){d()},0),i.hasClass("premium-mc-counting-yes")&&setTimeout(function(){var o=i.find(".pa-woo-mc__count-placeholder").text(),a=i.find(".pa-woo-mc__text-wrapper .pa-woo-mc__subtotal-placeholder").text();i.find(".pa-woo-mc__badge.pa-counting").length&&s.update(o),i.find(".pa-woo-mc__subtotal.pa-counting .pa-woo-mc__subtotal-val").length&&_.update(a)},0)}),m.cssSelector)&&(o=m.cssSelector,l=o.replace(/^[.#]/,""),c(o).off("click.paCustomTrigger").on("click.paCustomTrigger",function(o){o.preventDefault(),c('.elementor-widget-premium-mini-cart .pa-woo-mc__outer-container[data-cart-selector="'+l+'"]').find(".pa-woo-mc__inner-container").trigger("click.paToggleMiniCart")}))}o(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/premium-mini-cart.default",a)})})(jQuery);